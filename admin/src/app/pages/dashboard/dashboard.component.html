<div class="min-h-screen bg-gray-50 dark:bg-gray-900 flex">
  <!-- Sidebar -->
  <cms-sidebar class="hidden md:block fixed inset-y-0 left-0 z-30"></cms-sidebar>

  <!-- Mobile Sidebar Overlay (TODO) -->

  <div class="flex-1 flex flex-col md:pl-64 min-h-screen">
    <!-- Header -->
    <header class="bg-white dark:bg-gray-800 shadow sticky top-0 z-20">
      <div class="px-4 sm:px-6 lg:px-8 py-4">
        <div class="flex justify-between items-center">
          <h1 class="text-2xl font-bold text-gray-900 dark:text-white md:hidden">
            {{ translate.instant('common.cmsAdmin') }}
          </h1>
          
          <!-- Spacer for desktop to push content right -->
          <div class="hidden md:block"></div>

          <div class="flex items-center space-x-4">
            <!-- Language Selector -->
            <cms-language-selector></cms-language-selector>

            <!-- Theme Toggle -->
            <button
              (click)="toggleTheme()"
              class="p-2 rounded-md text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"
              [title]="currentTheme() === 'dark' ? translate.instant('common.lightMode') : translate.instant('common.darkMode')"
            >
              @if (currentTheme() === 'dark') {
                <cms-icon name="sun" size="lg"></cms-icon>
              } @else {
                <cms-icon name="moon" size="lg"></cms-icon>
              }
            </button>

            <!-- User Info -->
            @if (currentUser(); as user) {
              <div class="flex items-center space-x-3">
                <div class="text-right hidden sm:block">
                  <p class="text-sm font-medium text-gray-900 dark:text-white">
                    {{ user.fullName }}
                  </p>
                  <p class="text-xs text-gray-500 dark:text-gray-400">
                    {{ user.email }}
                  </p>
                </div>
                <button
                  (click)="onLogout()"
                  class="flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-md transition-colors"
                >
                  <cms-icon name="logout" size="sm"></cms-icon>
                  <span class="hidden sm:inline">{{ translate.instant('common.logout') }}</span>
                </button>
              </div>
            }
          </div>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="flex-1 p-4 sm:p-6 lg:p-8">
      <router-outlet></router-outlet>
    </main>
  </div>
</div>